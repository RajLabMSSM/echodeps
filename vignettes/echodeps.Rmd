---
title: "Getting Started" 
author: "<h4>Author: <i>Brian M. Schilder</i></h4>" 
date: "<h4>Updated: <i>`r format( Sys.Date(), '%b-%d-%Y')`</i></h4>"
output:
  BiocStyle::html_document
vignette: >
    %\VignetteIndexEntry{echodata} 
    %\usepackage[utf8]{inputenc}
    %\VignetteEngine{knitr::rmarkdown}
---


```{r, echo=FALSE, include=FALSE}
pkg <- read.dcf("../DESCRIPTION", fields = "Package")[1]
library(pkg, character.only = TRUE)
```


```R
library(`r pkg`)
```

<!-- not run simply bc it causes weird errors with devtools::check() -->

# Gather package metadata

## echoverse

`package_metadata` pulls metadata from the DESCRIPTION files from a package 
(or list of packages) and organizes them into a convenient table.

Metadata for the [*echoverse*](https://github.com/topics/echoverse) suite of 
R packages will be retrieved by default.
While *echoverse* itself is not the name of an R package, `package_metadata`
will automatically recognise this special command and retrieve 
all packages that are part of this suite. 

```{r metadata1}
meta_echoverse <- echodeps::package_metadata(pkgs = "echoverse")

knitr::kable(meta_echoverse)
```

## dplyr 

You can use the same function to find 

```{r metadata2}
meta <- echodeps::package_metadata(pkgs = c("dplyr","data.table","igraph"))

knitr::kable(meta)
```


# Create a dependency graph

`dep_graph` builds upon the above functions and create a dependency graph for
all the dependencies of a given R package
(or a selected subset of its dependencies). 

Metadata for each package is automatically extracted and shown as tooltips that
appear when you hover over the respective node.

All of the plots, graphs, metadata, and saved file paths generated by
`dep_graph`are returned to the user as a named list in case they would like
to explore them further.

## echolocatoR

```{r graph1}
res_echoverse <- echodeps::dep_graph(pkg = "echolocatoR",
                                     ## Setting show_plot for vignette purposes
                                     show_plot = list(r=TRUE,
                                                      browser=FALSE))
```
## dplyr

<!-- Cannot run more than one dep_graph example per vignette because rmarkdown will get confused and think the same code chunk names are being used multiple times. I think this happens because pkgnet::CreatePackageReport is rendering an rmarkdown within another rmarkdown (this vignette) -->

```{r graph2, eval=FALSE}
res <- echodeps::dep_graph(pkg = "dplyr",
                           shape = "hexagon", 
                           layout = function(graph, pkg){
                               visNetwork::visIgraphLayout(
                                   graph = graph,
                                   layout = "layout_nicely"
                               )
                           }
                           )
```

<hr> 

# Session Info 

<details> 

```{r Session Info}
utils::sessionInfo()
```

</details> 

<br>

